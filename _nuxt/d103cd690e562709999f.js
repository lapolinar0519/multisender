(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1460:function(t,e,n){"use strict";n(59),n(35),n(33),n(24),n(54);var o=n(27),r=n(75);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var l={props:{txs:{type:[Array,Object],default:function(){return[]}},title:{type:String,default:""},subtitle:{type:String,default:""},txName:{type:String,default:""}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.c)("txHashKeeper",["txExplorerUrl","txHashToRender","txStatusClass"]),{show:function(){return"multisendTxs"===this.txName?this.txs.length>0:this.txs.txHash},multisend:function(){return"multisendTxs"===this.txName}})},v=n(17),component=Object(v.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"token-field"},[t.title?n("div",{staticClass:"title",class:{"is-spaced":t.subtitle}},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.subtitle?n("div",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]):t._e(),t._v(" "),t.multisend?n("ol",{staticClass:"txs"},t._l(t.txs,(function(e){var o=e.txHash,r=e.status;return n("li",{key:o,staticClass:"txs__item",class:t.txStatusClass(r)},[n("a",{staticClass:"txs__address",attrs:{href:t.txExplorerUrl(t.txName,o),target:"_blank"}},[t._v("\n        "+t._s(t.txHashToRender(t.txName,o))+"\n      ")]),t._v(" "),n("div",{staticClass:"txs__status"})])})),0):n("div",{staticClass:"txs"},[n("div",{staticClass:"txs__item",class:t.txStatusClass(t.txs.status)},[n("a",{staticClass:"txs__address",attrs:{href:t.txExplorerUrl(t.txName),target:"_blank"}},[t._v("\n        "+t._s(t.txHashToRender(t.txName))+"\n      ")]),t._v(" "),n("div",{staticClass:"txs__status"})])])]):t._e()}),[],!1,null,null,null);e.a=component.exports},1461:function(t,e,n){"use strict";n(280);var o={props:{activeStep:{type:Number,default:0},lastStepLabel:{type:String,default:"push"}},computed:{label:function(){return"pull"===this.lastStepLabel?this.$t("createPool"):this.$t("multisend")}}},r=n(17),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-steps",{attrs:{type:"is-primary","has-navigation":!1},model:{value:t.activeStep,callback:function(e){t.activeStep=e},expression:"activeStep"}},[n("b-step-item",{attrs:{label:t.$t("prepare")}}),t._v(" "),n("b-step-item",{attrs:{label:t.$t("approve")}}),t._v(" "),n("b-step-item",{attrs:{label:t.label}})],1)}),[],!1,null,null,null);e.a=component.exports},1469:function(t,e,n){"use strict";n.r(e);n(59),n(35),n(33),n(24),n(54),n(36);var o=n(5),r=n(27),c=n(1461),l=n(1460),v=n(75),d=n(16);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=n(25),m={head:{bodyAttrs:{class:"no-bg"}},components:{Steps:c.a,Tx:l.a},data:function(){return{approveSize:!1,isApproved:!1,infoBox:this.$t("preparing"),alreadyPressed:!1,errorMessage:""}},computed:f({},Object(v.d)("distribution",["list","totalTokens","strategy","currentCheck"]),{},Object(v.d)("token",["tokenBalance"]),{},Object(v.d)("metamask",["ethBalance"]),{},Object(v.d)("txHashKeeper",["approveTx"]),{},Object(v.c)("token",["toDecimals","getTokenSymbol","allowance"]),{},Object(v.c)("metamask",["networkConfig"]),{},Object(v.c)("distribution",["hasEnoughApprovedTokens"]),{isNotEnoughTokens:function(){var t=new h(this.tokenBalance),e=new h(this.totalTokens);return t.isLessThan(e)},isUSDT:function(){return"USDT"===this.getTokenSymbol},approveButtonText:function(){return this.hasEnoughApprovedTokens?this.$t("proceed"):this.$t("approveButton")},isLoading:function(){switch(this.approveTx.status){case d.default.waitingForReciept:return!0;case d.default.success:return!this.isApproved}return!1},isNotSendingAllBalance:function(){var t=new h(this.tokenBalance);return new h(this.totalTokens).isLessThan(t)}}),beforeCreate:function(){0===this.$store.state.distribution.list.length&&this.$store.dispatch("router/goToIndex")},mounted:function(){this.isUSDT?this.approveSize=this.totalTokens:this.approveSize=this.tokenBalance,this.$nuxt.$loading.finish()},methods:f({},Object(v.b)("token",["sendApprove"]),{},Object(v.b)("router",["goToTheNextPage"]),{approveButtonAction:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.hasEnoughApprovedTokens){e.next=9;break}return t.alreadyPressed=!0,e.next=5,t.sendApprove(t.approveSize);case 5:t.isApproved=e.sent,t.alreadyPressed=!1,e.next=10;break;case 9:t.goToTheNextPage();case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t.alreadyPressed=!1,t.errorMessage=e.t0.message;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}})},k=n(17),component=Object(k.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"m-container"},[n("Steps",{attrs:{"active-step":1,"last-step-label":t.strategy}})],1),t._v(" "),n("div",{staticClass:"columns is-multiline has-token-info is-centered"},[n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.allowance)))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v(t._s(t.$t("currentApproval")))])])]),t._v(" "),n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.totalTokens))+" "+t._s(t.getTokenSymbol))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v(t._s(t.$t("totalTokensToSend")))])])]),t._v(" "),n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.tokenBalance))+" "+t._s(t.getTokenSymbol))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v(t._s(t.$t("yourBalance")))])])]),t._v(" "),n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.ethBalance,18)))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v("\n          "+t._s(t.$t("yourTokenBalance",{token:t.networkConfig.currencyName}))+"\n        ")])])])]),t._v(" "),n("div",{staticClass:"m-container",attrs:{hidden:t.isNotEnoughTokens}},[n("div",{staticClass:"token-field"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("amountToApprove")))]),t._v(" "),n("div",{staticClass:"columns is-vcentered"},[t.isNotSendingAllBalance?n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-radio",{attrs:{size:"is-medium","native-value":t.totalTokens},model:{value:t.approveSize,callback:function(e){t.approveSize=e},expression:"approveSize"}},[t._v("\n              "+t._s(t.$t("exactAmountToSent"))+" ("+t._s(t.toDecimals(t.totalTokens))+" "+t._s(t.getTokenSymbol)+")\n            ")])],1)]):t._e(),t._v(" "),t.isUSDT?t._e():n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-radio",{attrs:{size:"is-medium","native-value":t.tokenBalance},model:{value:t.approveSize,callback:function(e){t.approveSize=e},expression:"approveSize"}},[t._v("\n              "+t._s(t.$t("yourFullBalance"))+" ("+t._s(t.toDecimals(t.tokenBalance))+" "+t._s(t.getTokenSymbol)+")\n            ")])],1)])])]),t._v(" "),n("Tx",{attrs:{txs:t.approveTx,"tx-name":"approveTx",title:t.$t("approveTransactionHash")}}),t._v(" "),n("div",{staticClass:"buttons is-centered"},[n("b-button",{staticClass:"is-next",attrs:{id:"approve-and-proceed-button",loading:t.isLoading,type:"is-primary",disabled:t.alreadyPressed},on:{click:t.approveButtonAction}},[t._v("\n        "+t._s(t.approveButtonText)+"\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"m-container"},[n("b-notification",{attrs:{type:"is-success",closable:!1,active:2===t.approveTx.status&&t.isLoading},on:{"update:active":function(e){return t.$set(t.approveTx,"status === 2 && isLoading",e)}}},[t._v("\n      "+t._s(t.infoBox)+"...\n    ")]),t._v(" "),t.currentCheck.method?n("b-notification",{attrs:{closable:!1,type:"is-primary",active:2===t.approveTx.status&&t.isLoading},on:{"update:active":function(e){return t.$set(t.approveTx,"status === 2 && isLoading",e)}}},[t._v("\n      "+t._s(t.$t(t.currentCheck.method))+" "+t._s(t.$t("from"))+" "+t._s(t.currentCheck.from)),t.currentCheck.to?n("span",[t._v(" "+t._s(t.$t("to"))+" ")]):t._e(),t._v(" "+t._s(t.currentCheck.to)+"\n    ")]):t._e(),t._v(" "),n("b-notification",{attrs:{type:"is-danger",closable:!1,active:t.isNotEnoughTokens,role:"alert"},on:{"update:active":function(e){t.isNotEnoughTokens=e}}},[t._v("\n      "+t._s(t.$t("notEnoughTokens"))+"\n    ")]),t._v(" "),t.errorMessage?n("b-notification",{attrs:{closable:!1,type:"is-danger",role:"alert"}},[n("ul",[n("li",[t._v("\n          "+t._s(t.errorMessage)+"\n        ")])])]):t._e()],1)])}),[],!1,null,null,null);e.default=component.exports}}]);